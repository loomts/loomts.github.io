[{"categories":null,"content":" å‰æ®µæ—¶é—´ç™½å«–äº†ä¸€ä¸ª åŸŸå ï¼Œæš‘å‡æœ‰æ—¶é—´äº†èµ¶ç´§ç‰©å°½å…¶ç”¨ï¼Œäºæ˜¯èŠ±äº†ä¸€å¤©çš„æ—¶é—´é‡æ–°å»ºäº†ä¸ªç«™ï¼ˆå…¶å®æˆ‘å¾ˆä¹…ä¹‹å‰å°±ç”¨è¿‡hexoæ— è„‘å»ºç«™ï¼Œä½†æœ€è¿‘å‘ç°äº†ä¸€ä¸ªç‰¹åˆ«å–œæ¬¢çš„Hugoä¸»é¢˜ MemE ï¼‰ã€‚\n ç®€ç•¥æ­¥éª¤ Hugo é…ç½®  å…ˆåœ¨ wsl ä¸‹è£… Hugo  1  sudo apt install hugo   ç„¶åç”¨ tldr çœ‹ä¸€ä¸‹ Hugo çš„åŸºç¡€å‘½ä»¤  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  loomt@loomt:~/blog/loomt$ tldr hugo hugo Template-based static site generator. Uses modules, components, and themes.More information: https://gohugo.io. - Create a new Hugo site: hugo new site {{path/to/site}} - Create a new Hugo theme (themes may also be downloaded from https://themes.gohugo.io/): hugo new theme {{theme_name}} - Create a new page: hugo new {{section_name}}/{{filename}} - Build a site to the ./public/ directory: hugo - Build a site including pages that are marked as a \"draft\": hugo --buildDrafts - Build a site to a given directory: hugo --destination {{path/to/destination}} - Build a site, start up a webserver to serve it, and automatically reload when pages are edited: hugo server   æ–°å»ºç«™ç‚¹å¹¶é…ç½®ä¸»é¢˜  1 2 3 4 5  hugo new site loomt # éšä¾¿èµ·ä¸€ä¸ªåå­— cd loomt git init git submodule add https://github.com/reuixiy/hugo-theme-meme.git themes/meme # å°†çš®è‚¤ä½œä¸ºsubmoduleæ·»åŠ ï¼Œä»¥ä¾¿æ›´æ–° rm config.toml \u0026\u0026 cp themes/meme/config-examples/en/config.toml config.toml #è¦†ç›–é…ç½®æ–‡ä»¶   å‘å¸ƒæ–‡ç«   1  hugo new posts/first_post.md #å¯ä»¥åœ¨æ­¤è·¯å¾„ä¸‹ç¼–è¾‘æ–‡ç«    è¿è¡Œæœ¬åœ°æœåŠ¡  1  hugo server -D # åœ¨æœ¬åœ°æœåŠ¡å™¨è¿è¡Œ -Dæ˜¯æ¸²æŸ“è‰ç¨¿   ç°åœ¨å·²ç»å®ŒæˆåŸºæœ¬é…ç½®ï¼Œå¯ä»¥è®¿é—®è¿è¡Œåœ¨æœ¬æœºçš„ç«™ç‚¹äº†ã€‚è¿˜å¯ä»¥æ ¹æ® Hugo å®˜æ–¹ä»¥åŠä½¿ç”¨çš„çš®è‚¤ä½œè€…æä¾›çš„æ–‡æ¡£è¿›è¡Œä¸ªæ€§åŒ–çš„é…ç½®ã€‚\n é…ç½®çš„æ—¶å€™æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹æ˜¯ config.toml çš„ baseURL è¦åŠ  https:// ï¼Œå¦åˆ™ç”Ÿæˆçš„é™æ€é¡µé¢ css å’Œ js åŠ è½½ä¼šå‡ºé—®é¢˜ã€‚\n éƒ¨ç½²åˆ° Github Page Hugo æ˜¯ä¸€ä¸ªç½‘ç«™æ„å»ºå·¥å…·ï¼Œç”Ÿæˆçš„ public æ–‡ä»¶å¤¹å­˜æ”¾çš„æ˜¯é™æ€çš„éƒ¨ç½²é¡µé¢ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶æ”¾åœ¨ Github Page ä¸­ã€‚å»ºè®®å¼€ä¸¤ä¸ªä»“åº“ï¼Œä¸€ä¸ªä»“åº“ç”¨äºå­˜æ”¾æ ¹ç›®å½•ï¼Œå¦ä¸€ä¸ªç”¨äºå­˜æ”¾./public æ–‡ä»¶å¤¹çš„å†…å®¹ï¼Œä»¥ä¾¿è¢« Github Page éƒ¨ç½²ã€‚\n å› ä¸ºæ ¹ç›®å½•å¯èƒ½æœ‰æ•æ„Ÿä¿¡æ¯æˆ–è€…æš‚æ—¶ä¸å¸Œæœ›å…¬å¼€çš„è‰ç¨¿ï¼Œä¸ºäº†è®©å…¶å¾—åˆ°æœ‰æ•ˆçš„ç‰ˆæœ¬æ§åˆ¶ï¼Œå»ºè®®å¼€ä¸€ä¸ªç§æœ‰ä»“åº“å­˜æ”¾\nè€Œ publishDir(./pubic) ä½œä¸ºè¾“å‡ºçš„é™æ€é¡µé¢ï¼Œåˆ™é€‚åˆæ”¾åœ¨å…¬å¼€çš„ä»“åº“ Github Page ä¸å…¬å¼€æ²¡æ³•ç™½å«–\n é»˜è®¤çœ‹åˆ°è¿™é‡Œçš„åŒå­¦å·²ç»å»ºå¥½äº†ä»“åº“ï¼Œå¹¶å®Œæˆäº†ä»“åº“çš„åˆå§‹åŒ–å’Œé…ç½®ğŸ¤—ã€‚ ä¸‹é¢å‡è®¾æ›´æ–°äº†æ–‡ç« ï¼Œéœ€è¦åŒæ­¥åˆ°ä¸¤ä¸ªä»“åº“ã€‚\n1 2 3 4 5 6 7 8  hugo --gc --cleanDestinationDir # ç”Ÿæˆé™æ€ç«™ç‚¹åˆ°./publicçš„åŒæ—¶ æ¸…é™¤ç¼“å­˜å’Œé™æ€ç«™ç‚¹ç”¨ä¸ç€çš„æ–‡ä»¶ git add . git commit -m \"update source code\" git push cd public git add . git commit -m \"update Github Page\" git push   è¿˜å¯ä»¥åŠ ä¸ª Github Workflowï¼Œç®€åŒ–æ­¥éª¤ï¼Œå…·ä½“å¯é˜…è¯» GitHub Actions å®˜æ–¹æ–‡æ¡£ï¼Œactions-gh-pages ä»¥åŠ reuixiy çš„åšå®¢ ã€‚\nè‡ªåŠ¨åŒ–æ–¹æ¡ˆ  å¦‚æœæºç ä»“åº“å’Œ Github Page ä»“åº“éƒ½æ˜¯å…¬æœ‰çš„è¯å¯ä»¥é˜…è¯» actions-gh-pages è¿›è¡Œç®€å•çš„é…ç½®ã€‚ å¦‚æœæºç ä»“åº“æ˜¯ç§æœ‰çš„ï¼ŒGithub Page ä»“åº“æ˜¯å…¬å¼€çš„è¯ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹é…ç½®æ–¹æ¡ˆã€‚   é…ç½®å…¬é’¥å’Œç§é’¥åˆ°ä»“åº“  éœ€è¦ç”Ÿæˆ SSH key pair ä»¥è·å–æºç ä»“åº“å¯¹ Github Page ä»“åº“ä¿®æ”¹çš„æƒé™ã€‚\nssh-keygen -t rsa -b 4096 -C \"yourname@users.noreply.github.com\" # æ³¨æ„ï¼šä¸è¦æ— è„‘å›è½¦ï¼Œæœ€å¥½å¼€ä¸€ä¸ªæ–‡ä»¶å¤¹å­˜å…¬é’¥ç§é’¥ï¼Œä¸ç„¶ä¼šè¦†ç›–æ‰ä»¥å‰çš„  id_rsaï¼ˆç§é’¥ï¼‰  å‰å¾€Github Pageä»“åº“ï¼ŒSettings \u003e Deploy Keys \u003e Add deploy keyã€‚\néœ€è¦å‹¾é€‰ Allow write accessã€‚\n id_rsa.pub ï¼ˆå…¬é’¥ï¼‰  å‰å¾€æºç ä»“åº“ï¼ŒSettings \u003e Secrets \u003e Actions \u003e New repository secretã€‚\nName éœ€è¦è®¾ä¸º ACTIONS_DEPLOY_KEY\næ–°å»º Workflow é…ç½®æ–‡ä»¶  ä¸‹é¢ç²˜ä¸€ä¸‹æˆ‘çš„é…ç½®æ–¹æ¡ˆ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45  # .github/workflows/build.ymlname:Hugo automated deploymenton:push:branches:- main # Set a branch name to trigger deploymentjobs:deploy:runs-on:ubuntu-latestpermissions:contents:writeconcurrency:group:${{ github.workflow }}-${{ github.ref }}steps:- uses:actions/checkout@v3with:submodules:true# Fetch Hugo themes (true OR recursive)fetch-depth:0# Fetch all history for .GitInfo and .Lastmod- name:Setup Hugouses:peaceiris/actions-hugo@v2with:hugo-version:'0.92.2'- name:Buildrun:hugo --minify# - name: Deploy# uses: peaceiris/actions-gh-pages@v3# # If you're changing the branch from main, # # also change the `main` in `refs/heads/main` # # below accordingly.# if: ${{ github.ref == 'refs/heads/main' }}# with:# github_token: ${{ secrets.GITHUB_TOKEN }}# publish_dir: ./public- name:Deployuses:peaceiris/actions-gh-pages@v3with:deploy_key:${{ secrets.ACTIONS_DEPLOY_KEY }}external_repository:loomts/loomts.github.io# your Github Page repositorypublish_branch: main # default:gh-pagespublish_dir:./public  æ¨é€åˆ° Github  1 2 3  git add . git commit -m \"setup auto deploy\" git push   æ‰“å¼€ä½ çš„æºç ä»“åº“é¡µé¢ï¼Œç‚¹å‡» Actions æŸ¥çœ‹æ—¥å¿—ã€‚\nGithub Page ç»‘å®šè‡ªå®šä¹‰åŸŸå å‡è®¾å·²ç»æœ‰äº†åŸŸåï¼Œç°åœ¨éœ€è¦åœ¨åŸŸåçš„ DNS æœåŠ¡å•†é‚£é‡ŒåŠ ä¸€ä¸ª CNAME ï¼ˆç”¨äº dns è·³è½¬ï¼‰\n   name type value     www CNAME loomts.github.io    ä¸€æ®µæ—¶é—´åï¼Œå›åˆ° Github Page ä»“åº“ï¼Œåœ¨ Settings \u003e Pages \u003e Custom domain å¤„å¡«ä¸Šè‡ªå·±çš„åŸŸåï¼Œç­‰å¾…å‡ å°æ—¶ç”Ÿæˆè¯ä¹¦ï¼Œç„¶åå‹¾é€‰Â Enforce HTTPSã€‚\nè¿˜è¦è®°å¾—æ·»åŠ  your domain åˆ° static/CNAME ï¼Œä»¥ç”Ÿæˆåˆ°é™æ€æ–‡ä»¶ã€‚\n Custom domains are stored in aÂ CNAMEÂ file in the root of your publishing source. You can add or update this file through your repository settings or manually. For more information, see \" Managing a custom domain for your GitHub Pages site .\" â€”â€”Github Docs\n Vercel Vercel å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªç»“åˆäº† Github Page è¿˜æœ‰ Github Actions çš„ç”¨äºå‰ç«¯æ¡†æ¶å’Œé™æ€ç«™ç‚¹ç®¡ç†çš„å¹³å°ï¼Œç›´æ¥å¯¼å…¥ä»“åº“å³å¯éƒ¨ç½²ï¼Œä¹Ÿå¯ä»¥å’Œ Github Page ç»“åˆä½¿ç”¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯æ³¨å†ŒåŸŸåçš„æ—¶å€™è¦å»åŸŸåæ³¨å†Œå•†æ”¹ä¸€ä¸‹ DNS æœåŠ¡å™¨ã€‚\næ€»ç»“ ç›®å‰æˆ‘åœ¨ç”¨ Vercel æ‰˜ç®¡ https://loomt.eu.org ï¼Œé¡ºä¾¿å°† Github Page ç»‘å®šäº†è¿™ä¸ªç™½å«–çš„åŸŸåï¼Œæ„Ÿè§‰éå¸¸ä¸æˆ³ã€‚ ä¸ªäººæ„Ÿè§‰ Vercel çš„ä½“éªŒè¦æ¯” Github Page ç•¥å¥½ä¸€ç‚¹ï¼Œä½†æ˜¯éœ€è¦æœ‰ä¸€ä¸ªè‡ªå·±çš„åŸŸåã€‚\nreference\nhttps://gohugo.io/getting-started/\nhttps://blog.aozaki.cc/blog/hugo-deployment-debugging\nhttps://io-oi.me/tech/hugo-vs-hexo/\nhttps://github.com/MunifTanjim/minimo/issues/189\nhttps://zenlian.github.io/posts/tools/github-actions-hugo/\nhttps://github.com/peaceiris/actions-gh-pages\n","description":"","tags":null,"title":"å»ºç«™","uri":"loomt.eu.org/posts/%E5%BB%BA%E7%AB%99/"}]